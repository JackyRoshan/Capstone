{"version":3,"sources":["pages/useroperation/useroperation.js"],"names":["Page","data","title","operation","numberList","img","name","kind","average","distance","desk","wait","message","id","content","time","integral","integralid","delMoney","useMoney","needIntegral","currentCouponTab","couponNumber","count","couponNoUseList","useCondition","starTime","endTime","discount","couponUseList","orderNumber","orderList","pay","code","money","finish","actMoney","restaurantId","waiterId","cancel","shopArray","index","showMessage","shopNameInput","e","setData","shopName","detail","value","chooseMessage","currentTarget","dataset","chooseCouponTab","tabid","goPay","wx","navigateTo","url","goGratuity","restaurantid","waiterid","chooseShopKind","startShop","showModal","showCancel","redirectTo","onLoad","params","setNavigationBarTitle","onReady","onShow","onHide","onUnload","onPullDownRefresh"],"mappings":";;AAAA;AACA;;AAEA;AACAA,KAAK;AACH;;;AAGAC,QAAM;AACJC,WAAO,eADH;AAEJC,eAAW,IAFP;AAGJC,gBAAY;AACVC,WAAK,sEADK;AAEVC,YAAM,OAFI;AAGVC,YAAM,IAHI;AAIVC,eAAS,EAJC;AAKVC,gBAAU,GALA;AAMVC,YAAM,IANI;AAOVC,YAAM;AAPI,KAHR;AAYJC,aAAS,CACP;AACEV,aAAO,OADT;AAEEW,UAAI,UAFN;AAGEC,eAAS,8KAHX;AAIEC,YAAM;AAJR,KADO,EAOP;AACEb,aAAO,QADT;AAEEW,UAAI,UAFN;AAGEC,eAAS,0GAHX;AAIEC,YAAM;AAJR,KAPO,CAZL;AA0BJC,cAAU,CACR;AACEX,WAAK,sEADP;AAEEY,kBAAY,QAFd;AAGEX,YAAM,OAHR;AAIEY,gBAAU,EAJZ;AAKEC,gBAAU,GALZ;AAMEC,oBAAc;AANhB,KADQ,EASR;AACEf,WAAK,sEADP;AAEEY,kBAAY,QAFd;AAGEX,YAAM,OAHR;AAIEY,gBAAU,EAJZ;AAKEC,gBAAU,GALZ;AAMEC,oBAAc;AANhB,KATQ,EAiBR;AACEf,WAAK,sEADP;AAEEC,YAAM,OAFR;AAGEW,kBAAY,QAHd;AAIEC,gBAAU,EAJZ;AAKEC,gBAAU,GALZ;AAMEC,oBAAc;AANhB,KAjBQ,CA1BN;AAoDJC,sBAAkB,CApDd;AAqDJC,kBAAc,CACZ;AACEpB,aAAO,KADT;AAEEqB,aAAO;AAFT,KADY,EAKZ;AACErB,aAAO,MADT;AAEEqB,aAAO;AAFT,KALY,EASZ;AACErB,aAAO,KADT;AAEEqB,aAAO;AAFT,KATY,CArDV;AAmEJC,qBAAiB,CACf;AACElB,YAAM,SADR;AAEEO,UAAI,QAFN;AAGEK,gBAAU,GAHZ;AAIEO,oBAAc,MAJhB;AAKEC,gBAAU,YALZ;AAMEC,eAAS;AANX,KADe,EASf;AACErB,YAAM,SADR;AAEEO,UAAI,QAFN;AAGEK,gBAAU,GAHZ;AAIEO,oBAAc,SAJhB;AAKEC,gBAAU,YALZ;AAMEC,eAAS;AANX,KATe,EAiBf;AACErB,YAAM,SADR;AAEEO,UAAI,QAFN;AAGEe,gBAAU,CAHZ;AAIEH,oBAAc,QAJhB;AAKEC,gBAAU,YALZ;AAMEC,eAAS;AANX,KAjBe,CAnEb;AA6FJE,mBAAe,CACb;AACEvB,YAAM,KADR;AAEEO,UAAI,QAFN;AAGEK,gBAAU,GAHZ;AAIEO,oBAAc,MAJhB;AAKEC,gBAAU,YALZ;AAMEC,eAAS;AANX,KADa,EASb;AACErB,YAAM,IADR;AAEEO,UAAI,QAFN;AAGEK,gBAAU,GAHZ;AAIEO,oBAAc,SAJhB;AAKEC,gBAAU,YALZ;AAMEC,eAAS;AANX,KATa,EAiBb;AACErB,YAAM,SADR;AAEEO,UAAI,QAFN;AAGEe,gBAAU,CAHZ;AAIEH,oBAAc,QAJhB;AAKEC,gBAAU,YALZ;AAMEC,eAAS;AANX,KAjBa,CA7FX;AAuHJG,iBAAa,CAAC,KAAD,EAAQ,IAAR,CAvHT;AAwHJC,eAAW;AACTC,WAAK,CACH;AACE3B,aAAK,sEADP;AAEEC,cAAM,OAFR;AAGE2B,cAAM,YAHR;AAIElB,cAAM,kBAJR;AAKEmB,eAAO;AALT,OADG,CADI;AAUTC,cAAQ,CACN;AACE9B,aAAK,sEADP;AAEEC,cAAM,OAFR;AAGE2B,cAAM,YAHR;AAIElB,cAAM,kBAJR;AAKEmB,eAAO,KALT;AAMEhB,kBAAU,IANZ;AAOEkB,kBAAU,KAPZ;AAQEC,sBAAc,UARhB;AASEC,kBAAU;AATZ,OADM,CAVC;AAuBTC,cAAQ,CACN;AACElC,aAAK,sEADP;AAEEC,cAAM,OAFR;AAGE2B,cAAM,YAHR;AAIElB,cAAM,kBAJR;AAKEmB,eAAO;AALT,OADM;AAvBC,KAxHP;AAyJJM,eAAW,CAAC,SAAD,EAAY,IAAZ,EAAkB,IAAlB,EAAwB,IAAxB,EAA8B,MAA9B,EAAsC,IAAtC,EAA4C,IAA5C,CAzJP;AA0JJC,WAAO,CA1JH;AA2JJC,iBAAa;AA3JT,GAJH;AAiKH;;;;AAIAC,eArKG,yBAqKYC,CArKZ,EAqKe;AAChB,SAAKC,OAAL,CAAa;AACXC,gBAAUF,EAAEG,MAAF,CAASC;AADR,KAAb;AAGD,GAzKE;;AA0KH;;;AAGAC,eA7KG,yBA6KYL,CA7KZ,EA6Ke;AAChB,SAAKC,OAAL,CAAa;AACXH,mBAAaE,EAAEM,aAAF,CAAgBC,OAAhB,CAAwBvC;AAD1B,KAAb;AAGD,GAjLE;;AAkLH;;;;AAIAwC,iBAtLG,2BAsLcR,CAtLd,EAsLiB;AAClB,SAAKC,OAAL,CAAa;AACXxB,wBAAkBuB,EAAEM,aAAF,CAAgBC,OAAhB,CAAwBE;AAD/B,KAAb;AAGD,GA1LE;;AA2LH;;;;AAIAC,OA/LG,iBA+LIV,CA/LJ,EA+LO;AACRW,OAAGC,UAAH,CAAc;AACZC,WAAK,6BAA6Bb,EAAEM,aAAF,CAAgBC,OAAhB,CAAwBtC;AAD9C,KAAd;AAGD,GAnME;;AAoMH;;;;AAIA6C,YAxMG,sBAwMSd,CAxMT,EAwMY;AACb,QAAIP,eAAeO,EAAEM,aAAF,CAAgBC,OAAhB,CAAwBQ,YAA3C;AACA,QAAIrB,WAAWM,EAAEM,aAAF,CAAgBC,OAAhB,CAAwBS,QAAvC;AACA,QAAIrD,OAAOqC,EAAEM,aAAF,CAAgBC,OAAhB,CAAwB5C,IAAnC;AACA,QAAIkD,MAAM,EAAV;AACA,QAAIlD,SAAS,MAAb,EAAqB;AACnBkD,YAAM,iCAAiCpB,YAAvC;AACD,KAFD,MAEO;AACLoB,YAAM,mCAAmCnB,QAAzC;AACD;AACDiB,OAAGC,UAAH,CAAc;AACZC,WAAKA;AADO,KAAd;AAGD,GArNE;;AAsNH;;;AAGAI,gBAzNG,0BAyNajB,CAzNb,EAyNgB;AACjB,SAAKC,OAAL,CAAa;AACXJ,aAAOG,EAAEG,MAAF,CAASC;AADL,KAAb;AAGD,GA7NE;;AA8NH;;;AAGAc,WAjOG,uBAiOU;AACX;AACA,QAAI,CAAC,KAAK7D,IAAL,CAAU6C,QAAX,IAAuB,KAAK7C,IAAL,CAAUwC,KAAV,KAAoB,CAA/C,EAAkD;AAChD,aAAOc,GAAGQ,SAAH,CAAa;AAClB7D,eAAO,OADW;AAElBY,iBAAS,SAFS;AAGlBkD,oBAAY;AAHM,OAAb,CAAP;AAKD;AACDT,OAAGU,UAAH,CAAc;AACZR,WAAK,yDAAyD,KAAKxD,IAAL,CAAU6C,QAAnE,GAA8E,YAA9E,GAA6F,KAAK7C,IAAL,CAAUuC,SAAV,CAAoB,KAAKvC,IAAL,CAAUwC,KAA9B;AADtF,KAAd;AAGD,GA7OE;;AA8OH;;;AAGAyB,QAjPG,kBAiPKC,MAjPL,EAiPa;AACd;AACA,QAAIhE,YAAYgE,OAAOhE,SAAvB;AACA;AACA,SAAK0C,OAAL,CAAa;AACX1C,iBAAWgE,OAAOhE;AADP,KAAb;AAGA;AACA,QAAIA,cAAc,QAAlB,EAA4B;AAC1BA,kBAAY,OAAZ;AACD,KAFD,MAEO,IAAIA,cAAc,SAAlB,EAA6B;AAClCA,kBAAY,IAAZ;AACD,KAFM,MAEA,IAAIA,cAAc,UAAlB,EAA8B;AACnCA,kBAAY,MAAZ;AACD,KAFM,MAEA,IAAIA,cAAc,OAAlB,EAA2B;AAChCA,kBAAY,MAAZ;AACD,KAFM,MAEA,IAAIA,cAAc,UAAlB,EAA8B;AACnCA,kBAAY,MAAZ;AACD,KAFM,MAEA;AACLA,kBAAY,KAAZ;AACD;AACD;AACAoD,OAAGa,qBAAH,CAAyB;AACvBlE,aAAOC;AADgB,KAAzB;AAGD,GA1QE;;;AA4QH;;;AAGAkE,SA/QG,qBA+QQ;AACT;AACD,GAjRE;;;AAmRH;;;AAGAC,QAtRG,oBAsRO;AACR;AACD,GAxRE;;;AA0RH;;;AAGAC,QA7RG,oBA6RO;AACR;AACD,GA/RE;;;AAiSH;;;AAGAC,UApSG,sBAoSS;AACV;AACD,GAtSE;;;AAwSH;;;AAGAC,mBA3SG,+BA2SkB;AACnB;AACD;AA7SE,CAAL","file":"useroperation.js","sourcesContent":["// 获取全局应用程序实例对象\n// const app = getApp()\n\n// 创建页面实例对象\nPage({\n  /**\n   * 页面的初始数据\n   */\n  data: {\n    title: 'useroperation',\n    operation: null,\n    numberList: {\n      img: 'http://img02.tooopen.com/images/20150928/tooopen_sy_143912755726.jpg',\n      name: '人马大饭堂',\n      kind: '湘菜',\n      average: 88,\n      distance: 453,\n      desk: 'C2',\n      wait: 5\n    },\n    message: [\n      {\n        title: '三太子三汁',\n        id: 'message1',\n        content: '阿斯顿飞那是的疯狂就拉上的了风景阿萨德来房间爱绿色饭店就是的疯狂就拉上的了风景阿萨德来房间爱绿色饭店就是的疯狂就拉上的了风景阿萨德来房间爱绿色饭店就是的疯狂就拉上的了风景阿萨德来房间爱绿色饭店就是的疯狂就拉上的了风景阿萨德来房间爱绿色饭店就是的疯狂就拉上的了风景阿萨德来房间爱绿色饭店就是的疯狂就拉上的了风景阿萨德来房间爱绿色饭店就卡死的李开复',\n        time: '2012-12-12'\n      },\n      {\n        title: '三太子三汁2',\n        id: 'message2',\n        content: '阿斯顿飞那是的疯狂就拉上的了风景阿萨德是的疯狂就拉上的了风景阿萨德是的疯狂就拉上的了风景阿萨德是的疯狂就拉上的了风景阿萨德是的疯狂就拉上的了风景阿萨德是的疯狂就拉上的了风景阿萨德来房间爱绿色饭店就卡死的李开复',\n        time: '2012-12-12'\n      }\n    ],\n    integral: [\n      {\n        img: 'http://img02.tooopen.com/images/20150928/tooopen_sy_143912755726.jpg',\n        integralid: 'renma1',\n        name: '人马大饭堂',\n        delMoney: 20,\n        useMoney: 100,\n        needIntegral: 200\n      },\n      {\n        img: 'http://img02.tooopen.com/images/20150928/tooopen_sy_143912755726.jpg',\n        integralid: 'renma2',\n        name: '人马大饭堂',\n        delMoney: 20,\n        useMoney: 100,\n        needIntegral: 200\n      },\n      {\n        img: 'http://img02.tooopen.com/images/20150928/tooopen_sy_143912755726.jpg',\n        name: '人马大饭堂',\n        integralid: 'renma3',\n        delMoney: 20,\n        useMoney: 100,\n        needIntegral: 200\n      }\n    ],\n    currentCouponTab: 0,\n    couponNumber: [\n      {\n        title: '未使用',\n        count: 6\n      },\n      {\n        title: '使用记录',\n        count: 0\n      },\n      {\n        title: '已过期',\n        count: 0\n      }\n    ],\n    couponNoUseList: [\n      {\n        name: '人马科技大饭堂',\n        id: 'shopId',\n        delMoney: 100,\n        useCondition: '消费即用',\n        starTime: '2015.12.01',\n        endTime: '2016.12.03'\n      },\n      {\n        name: '人马科技大饭堂',\n        id: 'shopId',\n        delMoney: 100,\n        useCondition: '满1000可用',\n        starTime: '2015.12.01',\n        endTime: '2016.12.03'\n      },\n      {\n        name: '人马科技大饭堂',\n        id: 'shopId',\n        discount: 5,\n        useCondition: '满100可用',\n        starTime: '2015.12.01',\n        endTime: '2016.12.03'\n      }\n    ],\n    couponUseList: [\n      {\n        name: '喜鹊楼',\n        id: 'shopId',\n        delMoney: 190,\n        useCondition: '消费即用',\n        starTime: '2015.12.01',\n        endTime: '2016.12.03'\n      },\n      {\n        name: '哈哈',\n        id: 'shopId',\n        delMoney: 100,\n        useCondition: '满1000可用',\n        starTime: '2015.12.01',\n        endTime: '2016.12.03'\n      },\n      {\n        name: '人马科技大饭堂',\n        id: 'shopId',\n        discount: 5,\n        useCondition: '满100可用',\n        starTime: '2015.12.01',\n        endTime: '2016.12.03'\n      }\n    ],\n    orderNumber: ['待支付', '全部'],\n    orderList: {\n      pay: [\n        {\n          img: 'http://img02.tooopen.com/images/20150928/tooopen_sy_143912755726.jpg',\n          name: '人马大饭堂',\n          code: 'No12312312',\n          time: '2017-03-26 17:26',\n          money: '238'\n        }\n      ],\n      finish: [\n        {\n          img: 'http://img02.tooopen.com/images/20150928/tooopen_sy_143912755726.jpg',\n          name: '人马大饭堂',\n          code: 'No12312312',\n          time: '2017-03-26 17:26',\n          money: '238',\n          delMoney: '23',\n          actMoney: '215',\n          restaurantId: 'No123123',\n          waiterId: 'waiter123123'\n        }\n      ],\n      cancel: [\n        {\n          img: 'http://img02.tooopen.com/images/20150928/tooopen_sy_143912755726.jpg',\n          name: '人马大饭堂',\n          code: 'No12312312',\n          time: '2017-03-26 17:26',\n          money: '238'\n        }\n      ]\n    },\n    shopArray: ['请选择经营品类', '湘菜', '川菜', '粤菜', '沙县小吃', '徽菜', '茶点'],\n    index: 0,\n    showMessage: null\n  },\n  /**\n   * 输入店名保存\n   * @param e\n   */\n  shopNameInput (e) {\n    this.setData({\n      shopName: e.detail.value\n    })\n  },\n  /**\n   * 选择消息显示\n   */\n  chooseMessage (e) {\n    this.setData({\n      showMessage: e.currentTarget.dataset.message\n    })\n  },\n  /**\n   * 设置couponTab\n   * @param e\n   */\n  chooseCouponTab (e) {\n    this.setData({\n      currentCouponTab: e.currentTarget.dataset.tabid\n    })\n  },\n  /**\n   * 去支付\n   * @param e\n   */\n  goPay (e) {\n    wx.navigateTo({\n      url: '../payorder/payorder?id=' + e.currentTarget.dataset.id\n    })\n  },\n  /**\n   * 去打分或者打赏\n   * @param e\n   */\n  goGratuity (e) {\n    let restaurantId = e.currentTarget.dataset.restaurantid\n    let waiterId = e.currentTarget.dataset.waiterid\n    let kind = e.currentTarget.dataset.kind\n    let url = ''\n    if (kind === 'shop') {\n      url = '../grade/grade?restaurantId=' + restaurantId\n    } else {\n      url = '../gratuity/gratuity?waiterId=' + waiterId\n    }\n    wx.navigateTo({\n      url: url\n    })\n  },\n  /**\n   * 选择经营品类\n   */\n  chooseShopKind (e) {\n    this.setData({\n      index: e.detail.value\n    })\n  },\n  /**\n   * 开始上传商家入驻相关信息\n   */\n  startShop () {\n    // todo 入驻信息添加到缓存中\n    if (!this.data.shopName || this.data.index === 0) {\n      return wx.showModal({\n        title: '信息不完整',\n        content: '请补充信息完整',\n        showCancel: false\n      })\n    }\n    wx.redirectTo({\n      url: '../businessCooperation/businessCooperation?shopName=' + this.data.shopName + '&shopKind=' + this.data.shopArray[this.data.index]\n    })\n  },\n  /**\n   * 生命周期函数--监听页面加载\n   */\n  onLoad (params) {\n    // 由跳转链接设置标题\n    let operation = params.operation\n    // 设置operation\n    this.setData({\n      operation: params.operation\n    })\n    // 判断传入类型\n    if (operation === 'number') {\n      operation = '我的排单号'\n    } else if (operation === 'message') {\n      operation = '消息'\n    } else if (operation === 'integral') {\n      operation = '积分兑换'\n    } else if (operation === 'order') {\n      operation = '我的订单'\n    } else if (operation === 'merchant') {\n      operation = '商家入驻'\n    } else {\n      operation = '优惠券'\n    }\n    // 设置导航栏标题\n    wx.setNavigationBarTitle({\n      title: operation\n    })\n  },\n\n  /**\n   * 生命周期函数--监听页面初次渲染完成\n   */\n  onReady () {\n    // TODO: onReady\n  },\n\n  /**\n   * 生命周期函数--监听页面显示\n   */\n  onShow () {\n    // TODO: onShow\n  },\n\n  /**\n   * 生命周期函数--监听页面隐藏\n   */\n  onHide () {\n    // TODO: onHide\n  },\n\n  /**\n   * 生命周期函数--监听页面卸载\n   */\n  onUnload () {\n    // TODO: onUnload\n  },\n\n  /**\n   * 页面相关事件处理函数--监听用户下拉动作\n   */\n  onPullDownRefresh () {\n    // TODO: onPullDownRefresh\n  }\n})\n"]}