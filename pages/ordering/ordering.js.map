{"version":3,"sources":["pages/ordering/ordering.js"],"names":["Page","data","title","restaurant","img","name","id","address","tel","status","grade","gradeNumber","comment","content","number","menuList","list","count","good","price","coupon","delmoney","condition","time","currentmenu","currentleftmenu","currentmenuid","scrollHeight","needDistance","scrollHeight2","showShopCarContent","showMask","menu1content","icon","username","userComment","chooseGoods","restaurant_id","goods","money","allCount","goCheckOrder","wx","showToast","mask","navigateTo","url","calculateMoney","singleMoney","goodsId","lists","goodsID","showContent","setData","getCoupon","e","duration","setNeedDistance","choose","currentTarget","dataset","tab","leftChoose","menu","menulistid","getdesk","index","desk","menu1choose","console","log","tabmenu","callPhone","makePhoneCall","phoneNumber","setNavigatorText","that","setNavigationBarTitle","addorder","goodsid","showModal","showCancel","confirmText","setStorageSync","delorder","onLoad","onReady","onShow","onHide","onUnload","onPullDownRefresh"],"mappings":"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","file":"ordering.js","sourcesContent":["// 获取全局应用程序实例对象\n// const app = getApp()\n\n// 创建页面实例对象\nPage({\n  /**\n   * 页面的初始数据\n   */\n  data: {\n    title: 'ordering',\n    restaurant: {\n      img: 'http://img02.tooopen.com/images/20150928/tooopen_sy_143912755726.jpg',\n      name: '人马科技大饭堂',\n      id: 'remaid',\n      address: '汇德商业大厦501',\n      tel: '123412341234',\n      status: '满桌',\n      grade: 'four-star',\n      gradeNumber: '4.8',\n      comment: [\n        {\n          content: '服务态度好',\n          number: '932'\n        },\n        {\n          content: '食材新鲜',\n          number: '932'\n        },\n        {\n          content: '味道赞',\n          number: '932'\n        },\n        {\n          content: '一',\n          number: '9132'\n        },\n        {\n          content: '两个',\n          number: '9132'\n        },\n        {\n          content: '四个个字',\n          number: '9132'\n        },\n        {\n          content: '三个字',\n          number: '9132'\n        }\n      ],\n      menuList: [\n        {\n          title: '热销1',\n          id: 'list1',\n          list: [\n            {\n              img: 'http://img02.tooopen.com/images/20150928/tooopen_sy_143912755726.jpg',\n              name: '红烧牛肉1',\n              count: '1805',\n              good: '173',\n              price: '23.5',\n              id: 'list1_1'\n            },\n            {\n              name: '红烧牛肉2',\n              count: '1805',\n              good: '173',\n              price: '23.5',\n              id: 'list1_2'\n            },\n            {\n              name: '红烧牛肉3',\n              count: '1805',\n              good: '173',\n              price: '23.5',\n              id: 'list1_3'\n            },\n            {\n              name: '红烧牛肉4',\n              count: '1805',\n              good: '173',\n              price: '23.5',\n              id: 'list1_4'\n            }\n          ]\n        },\n        {\n          title: '热销2',\n          id: 'list2',\n          list: [\n            {\n              img: 'http://img02.tooopen.com/images/20150928/tooopen_sy_143912755726.jpg',\n              name: '红烧牛肉1',\n              count: '1805',\n              good: '173',\n              price: '23.5',\n              id: 'list2_1'\n            },\n            {\n              name: '红烧牛肉2',\n              count: '1805',\n              good: '173',\n              price: '23.5',\n              id: 'list2_2'\n            },\n            {\n              name: '红烧牛肉3',\n              count: '1805',\n              good: '173',\n              price: '23.5',\n              id: 'list2_3'\n            },\n            {\n              name: '红烧牛肉4',\n              count: '1805',\n              good: '173',\n              price: '23.5',\n              id: 'list2_4'\n            }\n          ]\n        },\n        {\n          title: '热销3',\n          id: 'list3',\n          list: [\n            {\n              img: 'http://img02.tooopen.com/images/20150928/tooopen_sy_143912755726.jpg',\n              name: '红烧牛肉1',\n              count: '1805',\n              good: '173',\n              price: '23.5'\n            },\n            {\n              name: '红烧牛肉2',\n              count: '1805',\n              good: '173',\n              price: '23.5'\n            },\n            {\n              name: '红烧牛肉3',\n              count: '1805',\n              good: '173',\n              price: '23.5'\n            },\n            {\n              name: '红烧牛肉4',\n              count: '1805',\n              good: '173',\n              price: '23.5'\n            }\n          ]\n        },\n        {\n          title: '热销4',\n          id: 'list4',\n          list: [\n            {\n              img: 'http://img02.tooopen.com/images/20150928/tooopen_sy_143912755726.jpg',\n              name: '红烧牛肉1',\n              count: '1805',\n              good: '173',\n              price: '23.5'\n            },\n            {\n              name: '红烧牛肉2',\n              count: '1805',\n              good: '173',\n              price: '23.5'\n            },\n            {\n              name: '红烧牛肉3',\n              count: '1805',\n              good: '173',\n              price: '23.5'\n            },\n            {\n              name: '红烧牛肉4',\n              count: '1805',\n              good: '173',\n              price: '23.5'\n            }\n          ]\n        },\n        {\n          title: '热销5',\n          id: 'list5',\n          list: [\n            {\n              img: 'http://img02.tooopen.com/images/20150928/tooopen_sy_143912755726.jpg',\n              name: '红烧牛肉1',\n              count: '1805',\n              good: '173',\n              price: '23.5'\n            },\n            {\n              name: '红烧牛肉2',\n              count: '1805',\n              good: '173',\n              price: '23.5'\n            },\n            {\n              name: '红烧牛肉3',\n              count: '1805',\n              good: '173',\n              price: '23.5'\n            },\n            {\n              name: '红烧牛肉4',\n              count: '1805',\n              good: '173',\n              price: '23.5'\n            }\n          ]\n        },\n        {\n          title: '热销6',\n          id: 'list6',\n          list: [\n            {\n              img: 'http://img02.tooopen.com/images/20150928/tooopen_sy_143912755726.jpg',\n              name: '红烧牛肉1',\n              count: '1805',\n              good: '173',\n              price: '23.5'\n            },\n            {\n              name: '红烧牛肉2',\n              count: '1805',\n              good: '173',\n              price: '23.5'\n            },\n            {\n              name: '红烧牛肉3',\n              count: '1805',\n              good: '173',\n              price: '23.5'\n            },\n            {\n              name: '红烧牛肉4',\n              count: '1805',\n              good: '173',\n              price: '23.5'\n            }\n          ]\n        },\n        {\n          title: '热销7',\n          id: 'list7',\n          list: [\n            {\n              img: 'http://img02.tooopen.com/images/20150928/tooopen_sy_143912755726.jpg',\n              name: '红烧牛肉1',\n              count: '1805',\n              good: '173',\n              price: '23.5'\n            },\n            {\n              name: '红烧牛肉2',\n              count: '1805',\n              good: '173',\n              price: '23.5'\n            },\n            {\n              name: '红烧牛肉3',\n              count: '1805',\n              good: '173',\n              price: '23.5'\n            },\n            {\n              name: '红烧牛肉4',\n              count: '1805',\n              good: '173',\n              price: '23.5'\n            }\n          ]\n        }\n      ],\n      coupon: {\n        id: 'code123123',\n        delmoney: 10,\n        condition: 100,\n        time: '2017-12-12'\n      }\n    },\n    // 当前的tab\n    currentmenu: 0,\n    // 当前的left栏\n    currentleftmenu: 0,\n    // 侧边栏联动当前值\n    currentmenuid: 'list1',\n    // 设置scroll-view的高度\n    scrollHeight: 880,\n    needDistance: 0,\n    scrollHeight2: 815,\n    showShopCarContent: false,\n    showMask: false,\n    menu1content: [\n      {\n        icon: 'iconfont icon-canshi',\n        title: '催促上菜'\n      },\n      {\n        icon: 'iconfont icon-lingdang-copy',\n        title: '呼叫服务员'\n      },\n      {\n        icon: 'iconfont icon-mifen2',\n        title: '加米饭'\n      },\n      {\n        icon: 'iconfont icon-jiubei',\n        title: '加酒水'\n      }\n    ],\n    comment: [\n      {\n        username: '186****1234',\n        img: 'http://img02.tooopen.com/images/20150928/tooopen_sy_143912755726.jpg',\n        grade: 'five-star',\n        time: '2016-5-5',\n        userComment: ['一二三四', '一', '一二三四', '一二', '一二三', '一二三四']\n      },\n      {\n        username: '186****1234',\n        img: 'http://img02.tooopen.com/images/20150928/tooopen_sy_143912755726.jpg',\n        grade: 'one-star',\n        time: '2016-5-5',\n        userComment: ['一', '一二', '一二三', '一二三四']\n      },\n      {\n        username: '186****1234',\n        img: 'http://img02.tooopen.com/images/20150928/tooopen_sy_143912755726.jpg',\n        grade: 'two-star',\n        time: '2016-5-5',\n        userComment: ['一', '一二', '一二三', '一二三四']\n      },\n      {\n        username: '186****1234',\n        img: 'http://img02.tooopen.com/images/20150928/tooopen_sy_143912755726.jpg',\n        grade: 'four-star',\n        time: '2016-5-5',\n        userComment: ['一二三四', '一', '一二三四', '一二', '一二三', '一二三四']\n      },\n      {\n        username: '186****1234',\n        img: 'http://img02.tooopen.com/images/20150928/tooopen_sy_143912755726.jpg',\n        grade: 'three-star',\n        time: '2016-5-5',\n        userComment: ['一二三四', '一', '一二三四', '一二', '一二三', '一二三四']\n      }\n    ],\n    chooseGoods: {\n      // 饭店id\n      restaurant_id: 'renmaid',\n      // 选择的商品数量\n      goods: {},\n      // 总金额\n      money: 0,\n      // 总数\n      allCount: 0\n    }\n  },\n  /**\n   * 确认订单\n   */\n  goCheckOrder () {\n    if (this.data.chooseGoods.allCount <= 0) {\n      return wx.showToast({\n        title: '您还没有点餐',\n        icon: 'success',\n        mask: true\n      })\n    }\n    // todo 提交订单信息，然后去到确认页面\n    wx.navigateTo({\n      url: '../payorder/payorder?operation=checkOrder'\n    })\n  },\n  /**\n   * 计算消费金额\n   */\n  calculateMoney () {\n    let goods = this.data.chooseGoods.goods\n    let menuList = this.data.restaurant.menuList\n    let money = 0\n    let singleMoney = 0\n    for (var goodsId in goods) {\n      // console.log(goodsId)\n      // console.log(goods[goodsId])\n      for (var lists of menuList) {\n        // console.log(lists)\n        // 具体列表内的菜单\n        let list = lists.list\n        // console.log(list)\n        for (var goodsID of list) {\n          if (goodsID.id === goodsId) {\n            // console.log(goodsID.price)\n            // console.log(goods[goodsId])\n            singleMoney = goodsID.price * goods[goodsId]\n            // console.log('success')\n          }\n          // return console.log(goodsID)\n        }\n      }\n      money += singleMoney\n    }\n    return money\n  },\n  /**\n   * 显示购物车内容\n   */\n  showContent () {\n    if (this.data.chooseGoods.money <= 0) return\n    this.setData({\n      showShopCarContent: !this.data.showShopCarContent,\n      showMask: !this.data.showMask\n    })\n  },\n  /**\n   * 获取优惠券\n   * @param e\n   */\n  getCoupon (e) {\n    wx.showToast({\n      title: '领取优惠券',\n      icon: 'success',\n      duration: 2000,\n      mask: true\n    })\n  },\n  /**\n   * 设置右侧滚动栏的位置\n   */\n  setNeedDistance () {\n    if (!this.data.restaurant.coupon.id) return\n    this.setData({\n      needDistance: 142\n    })\n  },\n  /**\n   * 改变menu选择\n   * @param e\n   */\n  choose (e) {\n    // console.log(e)\n    this.setData({\n      currentmenu: e.currentTarget.dataset.tab\n    })\n  },\n  /**\n   * 改变left menu选择\n   * @param e\n   */\n  leftChoose (e) {\n    this.setData({\n      currentleftmenu: e.currentTarget.dataset.menu,\n      currentmenuid: e.currentTarget.dataset.menulistid\n    })\n  },\n  /**\n   * 选择桌子取号\n   */\n  getdesk (e) {\n    let index = e.currentTarget.dataset.desk\n    let title = null\n    if (index === '0') {\n      title = '小桌取号成功'\n    } else if (index === '1') {\n      title = '中桌取号成功'\n    } else {\n      title = '大桌取号成功'\n    }\n    wx.showToast({\n      title: title,\n      icon: 'success',\n      duration: 2000\n    })\n  },\n  /**\n   * 户呼叫服务\n   * @param e\n   */\n  menu1choose (e) {\n    console.log(e.currentTarget.dataset.tabmenu)\n  },\n  /**\n   * 拨打电话\n   */\n  callPhone () {\n    wx.makePhoneCall({\n      phoneNumber: this.data.restaurant.tel\n    })\n  },\n  /**\n   * 修改标题栏文字\n   */\n  setNavigatorText () {\n    let that = this\n    wx.setNavigationBarTitle({\n      title: that.data.restaurant.name\n    })\n  },\n  /**\n   * 添加商品\n   * @param e\n   */\n  addorder (e) {\n    let goodsId = e.currentTarget.dataset.goodsid\n    if (!goodsId) {\n      return wx.showModal({\n        title: '抱歉',\n        content: '您选的菜品暂时无法提供',\n        showCancel: false,\n        confirmText: '我知道了'\n      })\n    }\n    let chooseGoods = this.data.chooseGoods\n    let goods = chooseGoods.goods\n    let count = goods[goodsId]\n    // 已有该商品\n    if (count) {\n      goods[goodsId] = ++count\n    } else {\n      goods[goodsId] = 1\n    }\n    chooseGoods.goods = goods\n    this.setData({\n      chooseGoods: chooseGoods\n    })\n    let money = this.calculateMoney()\n    chooseGoods.money = money\n    // 增加计数\n    ++chooseGoods.allCount\n    this.setData({\n      chooseGoods: chooseGoods\n    })\n    wx.setStorageSync('chooseGoods', this.data.chooseGoods)\n  },\n  /**\n   * 删除商品\n   * @param e\n   */\n  delorder (e) {\n    let goodsId = e.currentTarget.dataset.goodsid\n    let chooseGoods = this.data.chooseGoods\n    let goods = chooseGoods.goods\n    let count = goods[goodsId]\n    goods[goodsId] = --count\n    chooseGoods.goods = goods\n    this.setData({\n      chooseGoods: chooseGoods\n    })\n    let money = this.calculateMoney()\n    chooseGoods.money = money\n    // 减少计数\n    --chooseGoods.allCount\n    if (chooseGoods.allCount <= 0) {\n      this.setData({\n        showMask: false,\n        showShopCarContent: false\n      })\n    }\n    this.setData({\n      chooseGoods: chooseGoods\n    })\n    wx.setStorageSync('chooseGoods', this.data.chooseGoods)\n  },\n  /**\n   * 生命周期函数--监听页面加载\n   */\n  onLoad () {\n    // TODO: onLoad\n    // 改变标题栏文字\n    this.setNavigatorText()\n  },\n\n  /**\n   * 生命周期函数--监听页面初次渲染完成\n   */\n  onReady () {\n    // TODO: onReady\n    this.setNeedDistance()\n  },\n\n  /**\n   * 生命周期函数--监听页面显示\n   */\n  onShow () {\n    // TODO: onShow\n  },\n\n  /**\n   * 生命周期函数--监听页面隐藏\n   */\n  onHide () {\n    // TODO: onHide\n  },\n\n  /**\n   * 生命周期函数--监听页面卸载\n   */\n  onUnload () {\n    // TODO: onUnload\n  },\n\n  /**\n   * 页面相关事件处理函数--监听用户下拉动作\n   */\n  onPullDownRefresh () {\n    // TODO: onPullDownRefresh\n  }\n})\n"]}