{"version":3,"sources":["pages/grade/grade.js"],"names":["Page","data","title","text_ph","upPhotoList","currentStar","checkStatus","chooseStar","e","setData","currentTarget","dataset","star","upPhoto","that","length","wx","showToast","icon","duration","chooseImage","count","sizeType","sourceType","success","res","tempFilePaths","temp","push","showImage","previewImage","current","imgsrc","urls","delphoto","splice","indexOf","delsrc","setMoney","useMoney","detail","value","gradeBtn","switchTab","url","changbox","onLoad","onReady","onShow","onHide","onUnload","onPullDownRefresh"],"mappings":";;AAAA;AACA;;AAEA;AACAA,KAAK;AACH;;;AAGAC,QAAM;AACJC,WAAO,OADH;AAEJC,aAAS,mBAFL;AAGJC,iBAAa,EAHT;AAIJC,iBAAa,CAJT;AAKJC,iBAAa;AALT,GAJH;AAWH;;;;AAIAC,YAfG,sBAeSC,CAfT,EAeY;AACb,SAAKC,OAAL,CAAa;AACXJ,mBAAaG,EAAEE,aAAF,CAAgBC,OAAhB,CAAwBC;AAD1B,KAAb;AAGD,GAnBE;;AAoBH;;;AAGAC,SAvBG,qBAuBQ;AACT,QAAIC,OAAO,IAAX;AACA,QAAIA,KAAKb,IAAL,CAAUG,WAAV,CAAsBW,MAAtB,IAAgC,CAApC,EAAuC;AACrC,aAAOC,GAAGC,SAAH,CAAa;AAClBf,eAAO,QADW;AAElBgB,cAAM,SAFY;AAGlBC,kBAAU;AAHQ,OAAb,CAAP;AAKD;AACDH,OAAGI,WAAH,CAAe;AACbC,aAAO,CADM,EACH;AACVC,gBAAU,CAAC,UAAD,EAAa,YAAb,CAFG,EAEyB;AACtCC,kBAAY,CAAC,OAAD,EAAU,QAAV,CAHC,EAGoB;AACjCC,eAAS,iBAAUC,GAAV,EAAe;AACtB;AACA,YAAIC,gBAAgBD,IAAIC,aAAxB;AACA,YAAIC,OAAOD,cAAc,CAAd,CAAX;AACAZ,aAAKb,IAAL,CAAUG,WAAV,CAAsBwB,IAAtB,CAA2BD,IAA3B;AACAb,aAAKL,OAAL,CAAa;AACXL,uBAAaU,KAAKb,IAAL,CAAUG;AADZ,SAAb;AAGD;AAZY,KAAf;AAcD,GA9CE;;AA+CH;;;AAGAyB,WAlDG,qBAkDQrB,CAlDR,EAkDW;AACZ,QAAIM,OAAO,IAAX;AACAE,OAAGc,YAAH,CAAgB;AACdC,eAASvB,EAAEE,aAAF,CAAgBC,OAAhB,CAAwBqB,MADnB,EAC2B;AACzCC,YAAMnB,KAAKb,IAAL,CAAUG,WAFF,CAEc;AAFd,KAAhB;AAID,GAxDE;;AAyDH;;;;AAIA8B,UA7DG,oBA6DO1B,CA7DP,EA6DU;AACX,QAAIM,OAAO,IAAX;AACAA,SAAKb,IAAL,CAAUG,WAAV,CAAsB+B,MAAtB,CAA6BrB,KAAKb,IAAL,CAAUG,WAAV,CAAsBgC,OAAtB,CAA8B5B,EAAEE,aAAF,CAAgBC,OAAhB,CAAwB0B,MAAtD,CAA7B,EAA4F,CAA5F;AACA,SAAK5B,OAAL,CAAa;AACXL,mBAAaU,KAAKb,IAAL,CAAUG;AADZ,KAAb;AAGD,GAnEE;;AAoEH;;;;AAIAkC,UAxEG,oBAwEO9B,CAxEP,EAwEU;AACX,SAAKC,OAAL,CAAa;AACX8B,gBAAU/B,EAAEgC,MAAF,CAASC;AADR,KAAb;AAGD,GA5EE;;AA6EH;;;AAGAC,UAhFG,sBAgFS;AACV1B,OAAG2B,SAAH,CAAa;AACXC,WAAK;AADM,KAAb;AAGD,GApFE;;AAqFH;;;;AAIAC,UAzFG,sBAyFS;AACV,SAAKpC,OAAL,CAAa;AACXH,mBAAa,CAAC,KAAKL,IAAL,CAAUK;AADb,KAAb;AAGD,GA7FE;;AA8FH;;;AAGAwC,QAjGG,oBAiGO;AACR;AACD,GAnGE;;;AAqGH;;;AAGAC,SAxGG,qBAwGQ;AACT;AACD,GA1GE;;;AA4GH;;;AAGAC,QA/GG,oBA+GO;AACR;AACD,GAjHE;;;AAmHH;;;AAGAC,QAtHG,oBAsHO;AACR;AACD,GAxHE;;;AA0HH;;;AAGAC,UA7HG,sBA6HS;AACV;AACD,GA/HE;;;AAiIH;;;AAGAC,mBApIG,+BAoIkB;AACnB;AACD;AAtIE,CAAL","file":"grade.js","sourcesContent":["// 获取全局应用程序实例对象\n// const app = getApp()\n\n// 创建页面实例对象\nPage({\n  /**\n   * 页面的初始数据\n   */\n  data: {\n    title: 'grade',\n    text_ph: '菜品口味如何，服务如何？环境如何？',\n    upPhotoList: [],\n    currentStar: 4,\n    checkStatus: false\n  },\n  /**\n   * 星星打分\n   * @param e\n   */\n  chooseStar (e) {\n    this.setData({\n      currentStar: e.currentTarget.dataset.star\n    })\n  },\n  /**\n   * 用户上传图片\n   */\n  upPhoto () {\n    let that = this\n    if (that.data.upPhotoList.length >= 6) {\n      return wx.showToast({\n        title: '最多6张图片',\n        icon: 'success',\n        duration: 2000\n      })\n    }\n    wx.chooseImage({\n      count: 1, // 默认9\n      sizeType: ['original', 'compressed'], // 可以指定是原图还是压缩图，默认二者都有\n      sourceType: ['album', 'camera'], // 可以指定来源是相册还是相机，默认二者都有\n      success: function (res) {\n        // 返回选定照片的本地文件路径列表，tempFilePath可以作为img标签的src属性显示图片\n        var tempFilePaths = res.tempFilePaths\n        let temp = tempFilePaths[0]\n        that.data.upPhotoList.push(temp)\n        that.setData({\n          upPhotoList: that.data.upPhotoList\n        })\n      }\n    })\n  },\n  /**\n   * 图片展示\n   */\n  showImage (e) {\n    let that = this\n    wx.previewImage({\n      current: e.currentTarget.dataset.imgsrc, // 当前显示图片的http链接\n      urls: that.data.upPhotoList // 需要预览的图片http链接列表\n    })\n  },\n  /**\n   * 删除当前图片\n   * @param e\n   */\n  delphoto (e) {\n    let that = this\n    that.data.upPhotoList.splice(that.data.upPhotoList.indexOf(e.currentTarget.dataset.delsrc), 1)\n    this.setData({\n      upPhotoList: that.data.upPhotoList\n    })\n  },\n  /**\n   * 设置消费金额\n   * @param e\n   */\n  setMoney (e) {\n    this.setData({\n      useMoney: e.detail.value\n    })\n  },\n  /**\n   * 提交评论信息\n   */\n  gradeBtn () {\n    wx.switchTab({\n      url: '../index/index'\n    })\n  },\n  /**\n   * checkbox 选项\n   * @param e\n   */\n  changbox () {\n    this.setData({\n      checkStatus: !this.data.checkStatus\n    })\n  },\n  /**\n   * 生命周期函数--监听页面加载\n   */\n  onLoad () {\n    // TODO: onLoad\n  },\n\n  /**\n   * 生命周期函数--监听页面初次渲染完成\n   */\n  onReady () {\n    // TODO: onReady\n  },\n\n  /**\n   * 生命周期函数--监听页面显示\n   */\n  onShow () {\n    // TODO: onShow\n  },\n\n  /**\n   * 生命周期函数--监听页面隐藏\n   */\n  onHide () {\n    // TODO: onHide\n  },\n\n  /**\n   * 生命周期函数--监听页面卸载\n   */\n  onUnload () {\n    // TODO: onUnload\n  },\n\n  /**\n   * 页面相关事件处理函数--监听用户下拉动作\n   */\n  onPullDownRefresh () {\n    // TODO: onPullDownRefresh\n  }\n})\n"]}